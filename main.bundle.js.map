{"version":3,"sources":["/Users/blvvy/workspace/ngtris/src async","/Users/blvvy/workspace/ngtris/src/app/app.component.ts","/Users/blvvy/workspace/ngtris/src/app/app.module.ts","/Users/blvvy/workspace/ngtris/src/environments/environment.ts","/Users/blvvy/workspace/ngtris/src/main.ts","/Users/blvvy/workspace/ngtris/src/ngtris/ngtris.component.css","/Users/blvvy/workspace/ngtris/src/ngtris/ngtris.component.html","/Users/blvvy/workspace/ngtris/src/ngtris/ngtris.component.ts","/Users/blvvy/workspace/ngtris/src/ngtris/ngtris.module.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"../../../../../src async recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/blvvy/workspace/ngtris/src async\n// module id = ../../../../../src async recursive\n// module chunks = 1","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  template: `\n  <a href=\"https://github.com/liuy97/ngtris\"><img style=\"position: absolute; top: 0; left: 0; border: 0;\"       src=\"https://camo.githubusercontent.com/121cd7cbdc3e4855075ea8b558508b91ac463ac2/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f677265656e5f3030373230302e706e67\" alt=\"Fork me on GitHub\" data-canonical-src=\"https://s3.amazonaws.com/github/ribbons/forkme_left_green_007200.png\">\n  </a>\n  <ng-tris></ng-tris>`,\n})\n\nexport class AppComponent {\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/blvvy/workspace/ngtris/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { NGTrisModule } from '../ngtris/ngtris.module';\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    NGTrisModule,\n    BrowserModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/blvvy/workspace/ngtris/src/app/app.module.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/blvvy/workspace/ngtris/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /Users/blvvy/workspace/ngtris/src/main.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".game-space {\\n  margin: 0;\\n  padding: 0;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.well-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: #ecf0f1;\\n}\\n\\n.tetromino {\\n  margin: 0;\\n  padding: 0;\\n  list-style-type: none;\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.tetromino .grid-square-block {\\n  width: 25%;\\n  height: 25%;\\n}\\n\\n.well {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n}\\n\\n.game-panel-container {\\n  position: absolute;\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n  height: 25px;\\n}\\n\\n.well .well-grid {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.well .active-tetromino {\\n  position: absolute;\\n}\\n\\n.well-grid {\\n  margin: 0;\\n  padding: 0;\\n  list-style-type: none;\\n}\\n\\n.grid-square-block {\\n  position: absolute;\\n  transition: top 0.1s linear;\\n}\\n\\n.square-block {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.game-control {\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n  background: grey;\\n  color: #fff;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/blvvy/workspace/ngtris/src/ngtris/ngtris.component.css\n// module id = ../../../../../src/ngtris/ngtris.component.css\n// module chunks = 1","module.exports = \"<div class=\\\"game-space\\\">\\n  <div class=\\\"game-panel-container\\\" [ngStyle]=\\\"{'left':gameLeft + 'px', 'width': gameWidth + 'px'}\\\">\\n    <table>\\n      <tr>\\n        <td>Score: {{scores}}</td><td>Lines: {{lines}}</td><td>Next:</td>\\n        <td>\\n          <div class=\\\"next-tetromino next-tetromino-Z\\\" style=\\\"width: 20px; height: 20px;\\\">\\n            <ul class=\\\"tetromino\\\">\\n              <li class=\\\"grid-square-block\\\" *ngFor=\\\"let cell of nextTetrominoMatrix\\\" \\n                [ngStyle]=\\\"{'top': cell.top, 'left': cell.left}\\\">\\n                <div *ngIf=\\\"cell.backgroundColor\\\" class=\\\"square-block\\\" [ngStyle]=\\\"{'background-color': cell.backgroundColor}\\\"></div>\\n              </li>\\n            </ul>\\n          </div>\\n        </td>\\n      </tr>\\n    </table>\\n  </div>\\n  <div class=\\\"well-container\\\" [ngStyle]=\\\"{'top':'30px', 'left':gameLeft + 'px', 'width': gameWidth + 'px', 'height': gameHeight + 'px'}\\\">\\n    <div class=\\\"well\\\">\\n      <div class=\\\"active-tetromino\\\" [ngStyle]=\\\"{'top': activeTetrominoPosY * 5 + '%', 'left': activeTetrominoPosX * 10 + '%', 'width': '40%', 'height': '20%'}\\\">\\n        <ul class=\\\"tetromino\\\">\\n          <li class=\\\"grid-square-block\\\" *ngFor=\\\"let cell of activeTetrominoMatrix\\\" \\n            [ngStyle]=\\\"{'top': cell.top, 'left': cell.left}\\\">\\n            <div *ngIf=\\\"cell.backgroundColor\\\" class=\\\"square-block\\\" [ngStyle]=\\\"{'background-color': cell.backgroundColor}\\\"></div>\\n          </li>\\n        </ul>\\n      </div>\\n      <ul class=\\\"well-grid\\\">\\n        <li class=\\\"grid-square-block\\\" *ngFor=\\\"let cell of matrix\\\" \\n          [ngStyle]=\\\"{'top': cell.top, 'left': cell.left, 'width': cell.width, 'height': cell.height}\\\"\\n          >\\n          <div *ngIf=\\\"cell.backgroundColor\\\" class=\\\"square-block\\\" [ngStyle]=\\\"{'background-color': cell.backgroundColor}\\\"></div>\\n        </li>\\n      </ul>\\n    </div>\\n  </div>\\n  <div class=\\\"game-panel-container\\\" [ngStyle]=\\\"{'top': 30 + gameHeight + 'px','left':gameLeft + 'px', 'width': gameWidth + 'px', 'height':'30px'}\\\">\\n    <button class=\\\"game-control\\\" (click)=\\\"onRotateButton()\\\">\\n      <svg viewBox=\\\"0 0 24 24\\\" style=\\\"width: 25px; height: 25px;\\\">\\n        <path d=\\\"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\\\"></path>\\n      </svg>\\n    </button>\\n    <button class=\\\"game-control\\\" (click)=\\\"onLeftButton()\\\">\\n      <svg viewBox=\\\"0 0 24 24\\\" style=\\\"width: 25px; height: 25px;\\\">\\n        <path d=\\\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\\\"></path>\\n      </svg>\\n    </button>\\n    <button class=\\\"game-control\\\" (click)=\\\"onRightButton()\\\">\\n      <svg viewBox=\\\"0 0 24 24\\\" style=\\\"width: 25px; height: 25px;\\\">\\n        <path d=\\\"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z\\\"></path>\\n      </svg>\\n    </button>\\n  </div>\\n  <div *ngIf=\\\"!isPlay\\\" class=\\\"game-panel-container\\\"\\n    [ngStyle]=\\\"{'top': 30 + gameHeight/4 + 'px','left':gameLeft + gameWidth/4 + 'px', 'width': gameWidth/2 + 'px', 'height':'50px'}\\\">\\n    <button style=\\\"width: 100%; height: 100%;\\\" (click)=\\\"onStart()\\\">Start</button>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/blvvy/workspace/ngtris/src/ngtris/ngtris.component.html\n// module id = ../../../../../src/ngtris/ngtris.component.html\n// module chunks = 1","import { Component, HostListener, OnInit, OnDestroy } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/timer';\n\nconst NGTRISSHAPES: any = {\n  I: {\n    color: '#3cc7d6',\n    transform: [[[0, 0, 0, 0], [1, 1, 1, 1], [0, 0, 0, 0], [0, 0, 0, 0]],\n      [[0, 1, 0, 0], [0, 1, 0, 0], [0, 1, 0, 0], [0, 1, 0, 0]],\n      [[0, 0, 0, 0], [1, 1, 1, 1], [0, 0, 0, 0], [0, 0, 0, 0]],\n      [[0, 1, 0, 0], [0, 1, 0, 0], [0, 1, 0, 0], [0, 1, 0, 0]]]\n  },\n  O: {\n    color: '#fbb414',\n    transform: [[[1, 1], [1, 1]],\n      [[1, 1], [1, 1]],\n      [[1, 1], [1, 1]],\n      [[1, 1], [1, 1]]]\n  },\n  T: {\n    color: '#b04497',\n    transform: [[[0, 1, 0], [1, 1, 1], [0, 0, 0]],\n      [[0, 1, 0], [0, 1, 1], [0, 1, 0]],\n      [[0, 0, 0], [1, 1, 1], [0, 1, 0]],\n      [[0, 1, 0], [1, 1, 0], [0, 1, 0]]]\n  },\n  J: {\n    color: '#3993d0',\n    transform: [[[1, 0, 0], [1, 1, 1], [0, 0, 0]],\n      [[0, 1, 1], [0, 1, 0], [0, 1, 0]],\n      [[0, 0, 0], [1, 1, 1], [0, 0, 1]],\n      [[0, 1, 0], [0, 1, 0], [1, 1, 0]]]\n  },\n  L: {\n    color: '#ed652f',\n    transform: [[[0, 0, 1], [1, 1, 1], [0, 0, 0]],\n      [[0, 1, 0], [0, 1, 0], [0, 1, 1]],\n      [[0, 0, 0], [1, 1, 1], [1, 0, 0]],\n      [[1, 1, 0], [0, 1, 0], [0, 1, 0]]]\n  },\n  S: {\n    color: '#95c43d',\n    transform: [[[0, 1, 1], [1, 1, 0], [0, 0, 0]],\n      [[1, 0, 0], [1, 1, 0], [0, 1, 0]],\n      [[0, 1, 1], [1, 1, 0], [0, 0, 0]],\n      [[1, 0, 0], [1, 1, 0], [0, 1, 0]]]\n  },\n  Z: {\n    color: '#e84138',\n    transform: [[[1, 1, 0], [0, 1, 1], [0, 0, 0]],\n      [[0, 0, 1], [0, 1, 1], [0, 1, 0]],\n      [[1, 1, 0], [0, 1, 1], [0, 0, 0]],\n      [[0, 0, 1], [0, 1, 1], [0, 1, 0]]]\n  }\n};\n\n@Component({\n  selector: 'ng-tris',\n  templateUrl: './ngtris.component.html',\n  styleUrls: ['./ngtris.component.css']\n})\n\nexport class NGTrisComponent implements OnInit, OnDestroy {\n  scores: number;\n  lines: number;\n  gameWidth: number;\n  gameHeight: number;\n  gameLeft: number;\n  rows: number = 20;\n  cols: number = 10;\n  matrix: any[];\n  activeTetrominoMatrix: any[];\n  nextTetrominoMatrix: any[];\n  activeTetrominoPosY: number;\n  activeTetrominoPosX: number;\n  isPlay: boolean;\n  private activeTetrominoTransform: number;\n  private activeTetrominoKey: string;\n  private nextTetrominoKey: string;\n  private source = Observable.timer(500, 500);\n  private subscription: any;\n\n  ngOnInit() {\n    this.isPlay = false;\n    this.gameWidth = window.innerWidth;\n    this.gameHeight = window.innerHeight - 60;\n    if(this.gameHeight/2 >= this.gameWidth) {\n      this.gameHeight = this.gameWidth;\n    } else {\n      this.gameWidth = this.gameHeight/2;\n    }\n    this.gameLeft = (window.innerWidth - this.gameWidth) /2;\n\n    this.subscription = this.source.subscribe(x => this.doTimer());\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  onStart() {\n    this.isPlay = true;\n    this.scores = 0;\n    this.lines = 0;\n    this.matrix = [];\n    for (let row = 0; row < this.rows; row++) {\n      for (let col = 0; col < this.cols; col++) {\n        this.matrix[row * this.cols + col] = {'width': '10%', 'height': '5%',\n          'top': row * 5 + '%', 'left': col * 10 + '%'};\n      }\n    }\n    this.activeTetrominoTransform = 0;\n    this.initActiveTetromino();\n  }\n\n  onLeftButton() {\n    if(!this.isPlay) {\n      return;\n    }\n    if(this.isPositionAvailable(this.activeTetrominoPosX - 1, this.activeTetrominoPosY, this.activeTetrominoMatrix)) {\n      this.activeTetrominoPosX--;\n    }\n  }\n\n  onRightButton() {\n    if(!this.isPlay) {\n      return;\n    }\n    if(this.isPositionAvailable(this.activeTetrominoPosX + 1, this.activeTetrominoPosY, this.activeTetrominoMatrix)) {\n      this.activeTetrominoPosX++;\n    }\n  }\n\n  onRotateButton() {\n    if(!this.isPlay) {\n      return;\n    }\n    this.rotateActiveTetromino();\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event: any) {\n    if(!this.isPlay) {\n      return;\n    }\n    this.gameWidth = event.target.innerWidth;\n    this.gameHeight = event.target.innerHeight - 60;\n    if(this.gameHeight/2 >= this.gameWidth) {\n      this.gameHeight = this.gameWidth;\n    } else {\n      this.gameWidth = this.gameHeight/2;\n    }\n    this.gameLeft = (window.innerWidth - this.gameWidth) /2;\n  }\n\n  @HostListener('document:keydown', ['$event'])\n  handleKeyboardEvent(event: KeyboardEvent) {\n    switch(event.which) {\n      case 39: //right\n        this.onRightButton();\n        break;\n      case 38: //up\n        this.onRotateButton();\n        break;\n      case 37: //left\n        this.onLeftButton();\n        break;\n    }\n  }\n\n  private checkGameOver() {\n    for (let col = 0; col < this.cols; col++) {\n      if(this.matrix[col].backgroundColor !== undefined) {\n        this.isPlay = false;\n        return true;\n      }\n    }\n    return false;\n  }\n\n  private generateActiveMatrix(key: string, activeMatirx: any[], activeTransform: number) {\n    let transform: any = NGTRISSHAPES[key].transform[activeTransform];\n    for (let row = 0; row < 4; row++) {\n      for (let col = 0; col < 4; col++) {\n        if(transform[row]!== undefined && transform[row][col] === 1) {\n          activeMatirx[row * 4 + col] = {'top': row * 25 + '%', 'left': col * 25 + '%', 'backgroundColor':NGTRISSHAPES[key].color};\n        } else {\n          activeMatirx[row * 4 + col] = {'top': row * 25 + '%', 'left': col * 25 + '%'};\n        }\n      }\n    }\n  }\n\n  private initActiveTetromino() {\n    this.activeTetrominoMatrix = [];\n    let keys = Object.keys(NGTRISSHAPES);\n    if(this.nextTetrominoKey === undefined || NGTRISSHAPES[this.nextTetrominoKey] === undefined ) {\n      this.nextTetrominoKey = keys[Math.floor(Math.random() * keys.length)];\n    }\n    this.activeTetrominoKey = this.nextTetrominoKey;\n    this.nextTetrominoKey = keys[Math.floor(Math.random() * keys.length)];\n    this.generateActiveMatrix(this.activeTetrominoKey, this.activeTetrominoMatrix, this.activeTetrominoTransform);\n    this.activeTetrominoPosY = -2;\n    this.activeTetrominoPosX = 3;\n    this.nextTetrominoMatrix = [];\n    this.generateActiveMatrix(this.nextTetrominoKey, this.nextTetrominoMatrix, 0);\n  }\n\n  private rotateActiveTetromino() {\n    let activeMatrix = [];\n    let key = this.activeTetrominoKey;\n    this.activeTetrominoTransform = (this.activeTetrominoTransform + 1) % 4;\n    let transform = NGTRISSHAPES[key].transform[this.activeTetrominoTransform];\n    for (let row = 0; row < 4; row++) {\n      for (let col = 0; col < 4; col++) {\n        if(transform[row]!== undefined && transform[row][col] === 1) {\n          activeMatrix[row * 4 + col] = {'top': row * 25 + '%', 'left': col * 25 + '%', 'backgroundColor':NGTRISSHAPES[key].color};\n        } else {\n          activeMatrix[row * 4 + col] = {'top': row * 25 + '%', 'left': col * 25 + '%'};\n        }\n      }\n    }\n    if(this.isPositionAvailable(this.activeTetrominoPosX, this.activeTetrominoPosY + 1, activeMatrix)) {\n      this.activeTetrominoMatrix = activeMatrix;\n    }\n  }\n\n  private doTimer() {\n    if(!this.isPlay) {\n      return;\n    }\n    if(this.activeTetrominoPosY < this.rows) {\n      if(!this.isPositionAvailable(this.activeTetrominoPosX, this.activeTetrominoPosY + 1, this.activeTetrominoMatrix)) {\n        this.transferTetrominoToGrid();\n        this.initActiveTetromino();\n        this.scores += 10;\n      } else {\n        this.activeTetrominoPosY++;\n      }\n    }\n  }\n\n  private isPositionAvailable(x:number, y:number, activeMatrix: any[]) {\n    const tetrominoRows = 4;\n    const tetrominoCols = 4;\n    let relativeRow;\n    let relativeCol;\n\n    for (let row = 0; row < tetrominoRows; row++) {\n      for (let col = 0; col < tetrominoCols; col++) {\n        let cell = activeMatrix[row * tetrominoCols + col];\n        if (cell.backgroundColor) {\n          relativeRow = y + row;\n          relativeCol = x + col;\n\n          if (relativeCol < 0 || relativeCol >= this.cols) {\n            return false;\n          }\n\n          if (relativeRow >= this.rows) {\n            return false;\n          }\n\n          if (relativeRow >= 0) {\n            if (this.matrix[relativeRow * this.cols + relativeCol].backgroundColor) {\n              return false;\n            }\n          }\n        }\n      }\n    }\n\n    return true;\n  }\n\n  private clearLines() {\n    for (let row = this.rows - 1; row >= 0; row--) {\n      let completeLine = true;\n      for (let col = 0; col < this.cols; col++) {\n        if(this.matrix[row * this.cols + col].backgroundColor === undefined) {\n          completeLine = false;\n          break;\n        }\n      }\n      if(completeLine) {\n        for(let start = row; start > 0; start--) {\n          for (let col = 0; col < this.cols; col++) {\n            this.matrix[start * this.cols + col].backgroundColor = this.matrix[(start - 1) * this.cols + col].backgroundColor;\n          }\n        }\n        for (let col = 0; col < this.cols; col++) {\n          this.matrix[col].backgroundColor = undefined;\n        }\n        this.lines++;\n        this.scores += 100;\n        row++;\n      }\n    }\n  }\n\n  private transferTetrominoToGrid() {\n    const tetrominoRows = 4;\n    const tetrominoCols = 4;\n    let relativeRow;\n    let relativeCol;\n\n    for (let row = 0; row < 4; row++) {\n      for (let col = 0; col < 4; col++) {\n        let cell = this.activeTetrominoMatrix[row * tetrominoCols + col];\n        if (cell && cell.backgroundColor) {\n          relativeRow = this.activeTetrominoPosY + row;\n          relativeCol = this.activeTetrominoPosX + col;\n\n          if (this.matrix[relativeRow * this.cols + relativeCol]) {\n            this.matrix[relativeRow * this.cols + relativeCol].backgroundColor = cell.backgroundColor;\n          }\n        }\n      }\n    }\n    this.clearLines();\n    this.checkGameOver();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/blvvy/workspace/ngtris/src/ngtris/ngtris.component.ts","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NGTrisComponent } from './ngtris.component';\n\n@NgModule({\n  declarations: [\n    NGTrisComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    NGTrisComponent\n  ],\n})\nexport class NGTrisModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/blvvy/workspace/ngtris/src/ngtris/ngtris.module.ts"],"sourceRoot":"webpack:///"}